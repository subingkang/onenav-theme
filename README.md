# Modern v3 - OneNav 现代化主题

一个基于 OneNav 导航系统的现代化主题，提供美观、响应式的网站导航界面。

## 📋 项目简介

Modern v3 是专为 [OneNav](https://github.com/helloxz/onenav) 导航系统设计的现代化主题模板，采用了现代化的设计理念和用户体验优化，为用户提供了一个简洁、美观、功能丰富的网站导航界面。

## ✨ 主要特性

### 🎨 视觉设计
- **现代化设计风格**：采用扁平化设计，配色清新简约
- **随机 Banner 背景**：支持从主题 `images` 目录随机选择背景图片
- **渐变遮罩效果**：Banner 区域使用径向渐变遮罩提升视觉层次
- **彩色图标系统**：为不同分类自动分配不同颜色的图标背景
- **Unicode Emoji 支持**：分类名称支持 Emoji 图标显示

### 🔍 搜索功能
- **实时搜索**：输入关键词即时显示搜索结果
- **智能匹配**：支持网站标题和描述的模糊搜索
- **搜索结果计数**：显示匹配网站数量
- **自动定位**：搜索时自动滚动到搜索结果区域
- **搜索框图标**：内置放大镜图标提升用户体验

### 🧭 导航系统
- **分类导航栏**：固定在页面顶部，支持快速切换分类
- **智能激活**：基于滚动位置自动激活对应分类按钮
- **锚点导航**：支持 URL 锚点直接跳转到指定分类
- **平滑滚动**：所有跳转都使用平滑滚动动画

### 📱 响应式设计
- **移动端适配**：完全适配手机、平板等移动设备
- **弹性布局**：使用 Flexbox 确保在不同屏幕尺寸下的良好显示
- **触摸优化**：针对触摸设备优化的交互体验

### 🖼️ 图标系统
- **Favicon 自动获取**：通过 OneNav 内置函数自动获取网站图标
- **备选方案**：图标加载失败时显示网站名称首字母
- **彩色背景**：为文字图标提供8种不同颜色的背景

### 💡 用户体验优化
- **悬停提示**：长文本悬停时显示完整内容
- **加载优化**：CSS 和 JS 文件带版本号防止缓存问题
- **固定头部**：重要导航元素始终可见
- **底部固定**：页脚始终保持在页面底部

## 🗂️ 文件结构

```
modern-v3/
├── README.md          # 项目说明文档
├── info.json          # 主题信息配置
├── index.php          # 主题主文件
├── header.php         # 页面头部模块
├── footer.php         # 页面底部模块
├── style.css          # 主题样式文件
└── main.js            # 主题 JavaScript 文件
```

## 🚀 安装配置

### 安装步骤

1. **下载主题文件**
   ```bash
   # 将 modern-v3 目录放置到 OneNav 的 templates 目录下
   /path/to/onenav/templates/modern-v3/
   ```

2. **在 OneNav 后台启用主题**
   - 登录 OneNav 管理后台
   - 进入「系统设置」→「主题设置」
   - 选择 "Modern" 主题并保存

3. **配置 Emoji 映射（可选）**
   
   编辑 `header.php` 和 `index.php` 中的 `$emoji_map` 数组，根据您的分类 ID 配置对应的 Emoji：
   
   ```php
   $emoji_map = [
       52 => '🤖',  // AI 分类
       53 => '🎨',  // 设计分类
       54 => '🖼️',  // 图片分类
       55 => '💻',  // IT 分类
       56 => '📖',  // 学习分类
       57 => '📰',  // 信息分类
       58 => '삶',  // 生活分类
       59 => '🛠️',  // 工具分类
       'default' => '📁'
   ];
   ```

4. **添加 Banner 背景图片（可选）**
   
   在主题目录下创建 `images` 文件夹，放入背景图片：
   ```
   modern-v3/
   └── images/
       ├── banner1.jpg
       ├── banner2.png
       └── banner3.webp
   ```
   
   支持的图片格式：JPG, JPEG, PNG, GIF, WebP

### 自定义配置

#### 1. 修改主题色彩

编辑 `style.css` 文件中的 CSS 变量：

```css
:root {
    --primary-color: #409EFF;        /* 主色调 */
    --success-color: #67C23A;        /* 成功色 */
    --warning-color: #E6A23C;        /* 警告色 */
    --danger-color: #F56C6C;         /* 危险色 */
    --bg-color: #f5f7fa;             /* 背景色 */
    --text-color: #303133;           /* 文字颜色 */
}
```

#### 2. 调整固定头部高度

```css
:root {
    --fixed-header-height: 380px;   /* 桌面端 */
}

@media (max-width: 768px) {
    :root {
        --fixed-header-height: 330px; /* 移动端 */
    }
}
```

#### 3. 自定义图标背景色

```css
:root {
    --icon-bg-color-1: #409EFF;     /* 蓝色 */
    --icon-bg-color-2: #67C23A;     /* 绿色 */
    /* ... 更多颜色配置 */
}
```

## 🔧 技术特性

### 前端技术
- **纯 CSS3**：使用现代 CSS 特性，包括 CSS 变量、Flexbox、Grid
- **原生 JavaScript**：无依赖的纯 JavaScript 实现所有交互功能
- **响应式设计**：使用媒体查询适配不同设备

### PHP 集成
- **OneNav API 集成**：完全兼容 OneNav 的内置变量和函数
- **模块化设计**：头部、底部分离，便于维护和自定义
- **安全处理**：所有用户输入都经过适当的转义处理

### 性能优化
- **资源缓存控制**：CSS 和 JS 文件使用时间戳防止缓存
- **图片懒加载**：Favicon 加载失败时的优雅降级
- **事件节流**：滚动事件使用 `requestAnimationFrame` 优化性能

## 🆕 版本更新记录

### v3.0 (当前版本)
- ✅ 更新 footer 底部始终保持在最下面
- ✅ 更新搜索框搜索自动定位到最上面位置
- ✅ 添加 Unicode Emoji 支持
- ✅ 优化响应式设计
- ✅ 增强搜索功能
- ✅ 添加彩色图标系统
- ✅ 优化用户体验细节

## 🎯 兼容性

### 浏览器支持
- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 16+

### OneNav 版本
- 支持 OneNav 1.0+ 版本
- 兼容最新版本的 OneNav API

## 🛠️ 常见问题

**Q: 如何修改分类的 Emoji 图标？**
A: 编辑 `header.php` 和 `index.php` 文件中的 `getCategoryEmoji()` 函数，修改 `$emoji_map` 数组。

**Q: 背景图片不显示怎么办？**
A: 检查 `images` 目录是否存在，图片格式是否支持，文件权限是否正确。

**Q: 移动端显示异常？**
A: 检查是否正确设置了 viewport meta 标签，CSS 媒体查询是否生效。

**Q: 搜索功能不工作？**
A: 确保 JavaScript 文件正确加载，检查浏览器控制台是否有错误信息。

## 👨‍💻 开发者信息

- **作者**: subk
- **版本**: 1.0.0
- **更新日期**: 2025/08/21
- **主页**: [https://subkme.com](https://subkme.com)
- **演示**: [https://nav.subkme.com](https://nav.subkme.com)

## 📄 许可证

本主题遵循开源许可证，可自由使用和修改。如果您在使用过程中遇到问题或有改进建议，欢迎反馈。

## 🙏 致谢

感谢 [OneNav](https://github.com/helloxz/onenav) 项目提供的优秀导航系统基础。

---

**如果这个主题对您有帮助，请给项目点个 ⭐ Star 支持一下！**
